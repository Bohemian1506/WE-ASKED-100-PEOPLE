類似回答のグルーピングについて

  実装難易度と方法を説明します：

  実装オプション

  1. シンプル版（推奨） 🟢
  # 基本的な正規化のみ
  def normalize_answer(text)
    text.strip           # 前後の空白削除
        .downcase        # 小文字統一
        .tr('０-９', '0-9') # 全角数字→半角
        .gsub(/\s+/, '')   # 空白削除
  end
  - 対応例：「りんご」「リンゴ」「ＲＩＮＧＯ」→ 同一視
  - 実装: 1時間程度
  - 精度: 60-70%

  2. 中級版
  # ひらがな/カタカナ統一 + 基本的な表記ゆれ対応
  gem 'mojinizer' # ひらがな⇔カタカナ変換
  - 対応例：「りんご」「リンゴ」「林檎」（辞書登録必要）
  - 実装: 3-4時間
  - 精度: 80%

  3. 高度版
  # 形態素解析 + 類似度計算
  gem 'natto' # MeCab使用
  - 対応例：「マック」「マクドナルド」も同一視可能
  - 実装: 1日以上
  - 精度: 90%+


Cookie/セッション管理による重複回答防止

  実装方法の選択肢：

  1. Cookieベース（推奨）
  # 回答時に質問IDと紐づけたCookieを設定
  cookies.permanent.signed["answered_#{question.id}"] = true
  # 有効期限：30日など設定可能
  - メリット: シンプル、ブラウザを閉じても永続
  - デメリット: Cookie削除やプライベートブラウジングで回避可能

  2. セッションベース
  session[:answered_questions] ||= []
  session[:answered_questions] << question.id
  - メリット: より簡単な実装
  - デメリット: ブラウザを閉じると消える

  3. ハイブリッド方式（Cookie + デバイスフィンガープリント）
  - IPアドレス + User-Agent + 画面解像度などを組み合わせ
  - より強固だが、完全ではない


● X連携の実装方法の違い

  1. シェアボタン方式（Web Intent API） 🟢 推奨

  # 実装例
  <%= link_to
  "https://twitter.com/intent/tweet?text=#{text}&url=#{url}",
      target: "_blank", class: "btn btn-twitter" do %>
    Xでシェア
  <% end %>

  メリット：
  - ✅ 実装が超シンプル（リンクを作るだけ）
  - ✅ 認証不要（ユーザーがX側でログイン済みなら即投稿画面）
  - ✅ APIキー不要（X Developer登録不要）
  - ✅ メンテナンスフリー

  デメリット：
  - ❌ 投稿の自動化不可
  - ❌ 投稿したかどうかの追跡不可

  2. OAuth認証方式

  # gem 'omniauth-twitter2' などを使用
  # X Developer Portalでアプリ登録が必要

  メリット：
  - ✅ 投稿の自動化可能
  - ✅ ユーザー情報取得可能
  - ✅ 投稿の成功/失敗を検知可能

  デメリット：
  - ❌ 実装が複雑
  - ❌ X Developer登録必要（審査あり）
  - ❌ APIキーの管理が必要
  - ❌ API制限あり
  - ❌ ユーザーに権限許可を求める必要がある

  結論

  今回の要件ならシェアボタン方式が最適です！
  - シンプル実装という方針に合致
  - URLコピーボタンと並べて配置可能
  - ユーザーが投稿内容を編集してから投稿できる
