# EventPay Manager - MVPä»¥é™ã®å®Ÿè£…ãƒ­ãƒ¼ãƒ‰ãƒãƒƒãƒ—

## ğŸ“Š MVPä»¥é™ã®ãƒ•ã‚§ãƒ¼ã‚ºåˆ†ã‘

### Phase 2: åˆ©ä¾¿æ€§å‘ä¸Šï¼ˆMVP + 1ã€œ2ãƒ¶æœˆï¼‰
åŸºæœ¬æ©Ÿèƒ½ã‚’å¿«é©ã«ä½¿ãˆã‚‹ã‚ˆã†ã«ã™ã‚‹æ”¹å–„

### Phase 3: æ‹¡å¼µæ©Ÿèƒ½ï¼ˆMVP + 3ã€œ4ãƒ¶æœˆï¼‰
ã‚ˆã‚Šé«˜åº¦ãªè¦æ±‚ã«å¿œãˆã‚‹æ©Ÿèƒ½è¿½åŠ 

### Phase 4: ã‚¨ã‚³ã‚·ã‚¹ãƒ†ãƒ æ§‹ç¯‰ï¼ˆMVP + 6ãƒ¶æœˆã€œï¼‰
ä»–ã‚¢ãƒ—ãƒªã¨ã®é€£æºãƒ»ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ åŒ–

---

## ğŸš€ Phase 2: åˆ©ä¾¿æ€§å‘ä¸Š

### 1. èªè¨¼æ©Ÿèƒ½ã®æ‹¡å¼µ

#### Googleèªè¨¼ã®å®Ÿè£…
```ruby
# Gemfile
gem 'omniauth'
gem 'omniauth-google-oauth2'
gem 'omniauth-rails_csrf_protection'

# å®Ÿè£…ãƒã‚¤ãƒ³ãƒˆ
- æ—¢å­˜ã®ãƒ¡ãƒ¼ãƒ«èªè¨¼ã¨ã®ä½µç”¨
- ã‚¢ã‚«ã‚¦ãƒ³ãƒˆé€£æºæ©Ÿèƒ½
- åˆå›ãƒ­ã‚°ã‚¤ãƒ³æ™‚ã®æƒ…å ±è£œå®Œãƒ•ãƒ­ãƒ¼
```

#### LINEèªè¨¼ã®å®Ÿè£…
```ruby
# æ—¥æœ¬å¸‚å ´å‘ã‘ã®é‡è¦æ©Ÿèƒ½
gem 'omniauth-line'

# è€ƒæ…®äº‹é …
- LINE Messaging APIã¨ã®é€£æºæº–å‚™
- é€šçŸ¥æ©Ÿèƒ½ã¨ã®çµ±åˆã‚’è¦–é‡ã«
```

### 2. UI/UXã®æ”¹å–„

#### ãƒ—ãƒ­ã‚°ãƒ¬ãƒƒã‚·ãƒ–Webã‚¢ãƒ—ãƒªï¼ˆPWAï¼‰åŒ–
```javascript
// manifest.json
{
  "name": "EventPay Manager",
  "short_name": "EventPay",
  "start_url": "/",
  "display": "standalone",
  "theme_color": "#007bff"
}

// å®Ÿè£…é …ç›®
- ã‚ªãƒ•ãƒ©ã‚¤ãƒ³å¯¾å¿œ
- ãƒ›ãƒ¼ãƒ ç”»é¢è¿½åŠ 
- ãƒ—ãƒƒã‚·ãƒ¥é€šçŸ¥
```

#### ãƒ€ãƒ¼ã‚¯ãƒ¢ãƒ¼ãƒ‰å¯¾å¿œ
```scss
// CSSå¤‰æ•°ã§ç®¡ç†
:root {
  --bg-primary: #ffffff;
  --text-primary: #333333;
}

[data-theme="dark"] {
  --bg-primary: #1a1a1a;
  --text-primary: #ffffff;
}
```

### 3. é€šçŸ¥æ©Ÿèƒ½ã®å¼·åŒ–

#### LINEãƒ¡ãƒƒã‚»ãƒ¼ã‚¸é€£æº
```ruby
# LINE Messaging API
class LineNotificationService
  def send_reminder(participant)
    # å‚åŠ è€…ã®LINE IDã«ç›´æ¥é€šçŸ¥
    # æ—¢èª­ç¢ºèªã‚‚å¯èƒ½
  end
end
```

#### ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ é€šçŸ¥
```ruby
# Action Cableå®Ÿè£…
class PaymentChannel < ApplicationCable::Channel
  def subscribed
    stream_for event
  end
end
```

### 4. ãƒ‡ãƒ¼ã‚¿åˆ†ææ©Ÿèƒ½

#### å¹¹äº‹å‘ã‘ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰
- æ”¯æ‰•ã„é€²æ—ã®å¯è¦–åŒ–
- éå»ã‚¤ãƒ™ãƒ³ãƒˆã®çµ±è¨ˆ
- å‚åŠ ç‡ã®æ¨ç§»ã‚°ãƒ©ãƒ•

---

## ğŸ”§ Phase 3: æ‹¡å¼µæ©Ÿèƒ½

### 1. æ–™é‡‘ä½“ç³»ã®æŸ”è»ŸåŒ–

#### å‚åŠ è€…åˆ¥æ–™é‡‘è¨­å®š
```ruby
# ãƒ¢ãƒ‡ãƒ«æ‹¡å¼µ
class Participation < ApplicationRecord
  # åŸºæœ¬æ–™é‡‘ã‚’ã‚ªãƒ¼ãƒãƒ¼ãƒ©ã‚¤ãƒ‰å¯èƒ½ã«
  attribute :custom_fee, :integer
  
  def actual_fee
    custom_fee || round.fee
  end
end

# ä½¿ç”¨ä¾‹
- å­¦ç”Ÿå‰²å¼•
- å¹¹äº‹ç„¡æ–™
- æ—©æœŸå‰²å¼•
```

#### æ”¯æ‰•ã„æ–¹æ³•ã®è¨˜éŒ²
```ruby
class Payment < ApplicationRecord
  enum method: {
    cash: 0,
    bank_transfer: 1,
    paypay: 2,
    line_pay: 3,
    credit_card: 4
  }
  
  belongs_to :participation
  attribute :paid_at, :datetime
  attribute :note, :string
end
```

### 2. ã‚¤ãƒ™ãƒ³ãƒˆãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆæ©Ÿèƒ½

```ruby
class EventTemplate < ApplicationRecord
  # ã‚ˆãä½¿ã†è¨­å®šã‚’ä¿å­˜
  has_many :template_rounds
  
  def apply_to(event)
    # ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‹ã‚‰æ–°è¦ã‚¤ãƒ™ãƒ³ãƒˆä½œæˆ
  end
end

# ç”¨é€”
- å®šä¾‹é£²ã¿ä¼š
- æ­“é€è¿ä¼šãƒ‘ã‚¿ãƒ¼ãƒ³
- éƒ¨ç½²åˆ¥ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ
```

### 3. é«˜åº¦ãªé›†è¨ˆãƒ»ãƒ¬ãƒãƒ¼ãƒˆ

#### ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆæ©Ÿèƒ½
```ruby
class EventExporter
  def to_excel(event)
    # å‚åŠ è€…ãƒªã‚¹ãƒˆ
    # æ”¯æ‰•ã„çŠ¶æ³
    # ä¼šè¨ˆå ±å‘Šæ›¸
  end
  
  def to_pdf(event)
    # é ˜åæ›¸ä¸€æ‹¬ç™ºè¡Œ
    # ç²¾ç®—å ±å‘Šæ›¸
  end
end
```

### 4. æ¨©é™ç®¡ç†ã®ç´°åˆ†åŒ–

```ruby
class EventRole < ApplicationRecord
  # è¤‡æ•°å¹¹äº‹å¯¾å¿œ
  enum role: {
    owner: 0,      # ä¸»å¹¹äº‹
    organizer: 1,  # å‰¯å¹¹äº‹
    accountant: 2, # ä¼šè¨ˆæ‹…å½“
    viewer: 3      # é–²è¦§ã®ã¿
  }
end
```

---

## ğŸŒ Phase 4: ã‚¨ã‚³ã‚·ã‚¹ãƒ†ãƒ æ§‹ç¯‰

### 1. APIå…¬é–‹

#### RESTful API v1
```ruby
# app/controllers/api/v1/events_controller.rb
module Api
  module V1
    class EventsController < ApiController
      # å¤–éƒ¨ã‚¢ãƒ—ãƒªé€£æºç”¨
      def index
        @events = current_user.events
        render json: EventSerializer.new(@events)
      end
    end
  end
end
```

#### GraphQLå¯¾å¿œ
```ruby
# ã‚ˆã‚ŠæŸ”è»Ÿãªãƒ‡ãƒ¼ã‚¿å–å¾—
gem 'graphql'

class EventPaySchema < GraphQL::Schema
  query QueryType
  mutation MutationType
end
```

### 2. å§‰å¦¹ã‚¢ãƒ—ãƒªã¨ã®é€£æº

#### EventTodo Manageré€£æº
```ruby
# TODOã‚¿ã‚¹ã‚¯ã®è‡ªå‹•ç”Ÿæˆ
class EventTodoIntegration
  def create_todos_for_event(event)
    # ä¼šå ´äºˆç´„TODO
    # å‚åŠ ç¢ºèªTODO
    # ç²¾ç®—TODO
  end
end
```

#### EventChaté€£æº
```ruby
# ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ãƒãƒ£ãƒƒãƒˆçµ±åˆ
class EventChatIntegration
  def create_chat_room(event)
    # ã‚¤ãƒ™ãƒ³ãƒˆå°‚ç”¨ãƒãƒ£ãƒƒãƒˆãƒ«ãƒ¼ãƒ 
    # å‚åŠ è€…è‡ªå‹•æ‹›å¾…
  end
end
```

### 3. å¤–éƒ¨ã‚µãƒ¼ãƒ“ã‚¹é€£æº

#### ã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼é€£æº
- Googleã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼è‡ªå‹•ç™»éŒ²
- Outlookã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼å¯¾å¿œ
- iCalãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆå‡ºåŠ›

#### ä¼šè¨ˆã‚½ãƒ•ãƒˆé€£æº
- freee API
- ãƒãƒãƒ¼ãƒ•ã‚©ãƒ¯ãƒ¼ãƒ‰
- å¼¥ç”Ÿä¼šè¨ˆ

#### æ±ºæ¸ˆã‚µãƒ¼ãƒ“ã‚¹çµ±åˆ
- PayPay for Business
- LINE Pay
- Square

---

## ğŸ”’ ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãƒ»ã‚¤ãƒ³ãƒ•ãƒ©å¼·åŒ–

### 1. ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£å¼·åŒ–

```ruby
# äºŒè¦ç´ èªè¨¼
gem 'devise-two-factor'

# APIãƒ¬ãƒ¼ãƒˆåˆ¶é™
gem 'rack-attack'

# ç›£æŸ»ãƒ­ã‚°
class AuditLog < ApplicationRecord
  # ã™ã¹ã¦ã®é‡è¦æ“ä½œã‚’è¨˜éŒ²
end
```

### 2. ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æœ€é©åŒ–

```ruby
# Redisã‚­ãƒ£ãƒƒã‚·ãƒ¥å°å…¥
gem 'redis'
gem 'hiredis'

# æ¤œç´¢ã‚¨ãƒ³ã‚¸ãƒ³
gem 'elasticsearch-rails'

# ç”»åƒæœ€é©åŒ–
gem 'image_processing'
```

### 3. ã‚¤ãƒ³ãƒ•ãƒ©æ•´å‚™

```yaml
# Kuberneteså¯¾å¿œ
apiVersion: apps/v1
kind: Deployment
metadata:
  name: eventpay-manager

# CI/CDå¼·åŒ–
# - GitHub Actions
# - è‡ªå‹•ãƒ‡ãƒ—ãƒ­ã‚¤
# - A/Bãƒ†ã‚¹ãƒˆåŸºç›¤
```

---

## ğŸ’° ãƒãƒã‚¿ã‚¤ã‚ºæˆ¦ç•¥

### 1. ãƒ•ãƒªãƒ¼ãƒŸã‚¢ãƒ ãƒ¢ãƒ‡ãƒ«

#### ç„¡æ–™ãƒ—ãƒ©ãƒ³
- æœˆ3ã‚¤ãƒ™ãƒ³ãƒˆã¾ã§
- å‚åŠ è€…30åã¾ã§
- åŸºæœ¬æ©Ÿèƒ½ã®ã¿

#### ãƒ—ãƒ­ãƒ—ãƒ©ãƒ³ï¼ˆæœˆé¡500å††ï¼‰
- ã‚¤ãƒ™ãƒ³ãƒˆç„¡åˆ¶é™
- å‚åŠ è€…ç„¡åˆ¶é™
- ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆæ©Ÿèƒ½
- å„ªå…ˆã‚µãƒãƒ¼ãƒˆ

#### ãƒ“ã‚¸ãƒã‚¹ãƒ—ãƒ©ãƒ³ï¼ˆæœˆé¡2,000å††ï¼‰
- è¤‡æ•°å¹¹äº‹æ©Ÿèƒ½
- APIåˆ©ç”¨
- ç®¡ç†è€…æ¨©é™
- SLAä¿è¨¼

### 2. è¿½åŠ èª²é‡‘ã‚ªãƒ—ã‚·ãƒ§ãƒ³

- SMSé€šçŸ¥: 10å††/é€š
- é ˜åæ›¸ç™ºè¡Œ: 50å††/æš
- ãƒ‡ãƒ¼ã‚¿é•·æœŸä¿å­˜: 100å††/å¹´
- ã‚«ã‚¹ã‚¿ãƒ ãƒ‰ãƒ¡ã‚¤ãƒ³: 300å††/æœˆ

---

## ğŸ“ˆ æˆé•·æŒ‡æ¨™ï¼ˆKPIï¼‰

### Phase 2çµ‚äº†æ™‚ç‚¹
- MAU: 10,000äºº
- ã‚¤ãƒ™ãƒ³ãƒˆä½œæˆæ•°: 5,000/æœˆ
- ãƒªãƒ†ãƒ³ã‚·ãƒ§ãƒ³ç‡: 60%

### Phase 3çµ‚äº†æ™‚ç‚¹
- MAU: 50,000äºº
- æœ‰æ–™ä¼šå“¡: 1,000äºº
- ARPU: 800å††

### Phase 4çµ‚äº†æ™‚ç‚¹
- MAU: 200,000äºº
- æœ‰æ–™ä¼šå“¡: 10,000äºº
- é€£æºã‚¢ãƒ—ãƒª: 5å€‹ä»¥ä¸Š

---

## ğŸ—“ï¸ å®Ÿè£…å„ªå…ˆé †ä½ãƒãƒˆãƒªã‚¯ã‚¹

| æ©Ÿèƒ½             | å®Ÿè£…é›£æ˜“åº¦ | ãƒ“ã‚¸ãƒã‚¹ä¾¡å€¤ | å„ªå…ˆåº¦ |
| ---------------- | ---------- | ------------ | ------ |
| Google/LINEèªè¨¼  | ä¸­         | é«˜           | A      |
| PWAåŒ–            | ä½         | é«˜           | A      |
| å‚åŠ è€…åˆ¥æ–™é‡‘     | ä½         | ä¸­           | B      |
| LINEé€šçŸ¥         | ä¸­         | é«˜           | A      |
| ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆæ©Ÿèƒ½ | ä½         | ä¸­           | B      |
| APIå…¬é–‹          | é«˜         | ä¸­           | C      |
| æ±ºæ¸ˆé€£æº         | é«˜         | é«˜           | B      |
| äºŒè¦ç´ èªè¨¼       | ä¸­         | ä½           | C      |

---

## ğŸš¦ å®Ÿè£…æ™‚ã®æ³¨æ„ç‚¹

### 1. æŠ€è¡“çš„è² å‚µã®ç®¡ç†
- ãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°æœŸé–“ã®ç¢ºä¿
- ãƒ†ã‚¹ãƒˆã‚«ãƒãƒ¬ãƒƒã‚¸80%ä»¥ä¸Šç¶­æŒ
- ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆæ•´å‚™

### 2. ãƒ¦ãƒ¼ã‚¶ãƒ“ãƒªãƒ†ã‚£ç¶­æŒ
- æ©Ÿèƒ½è¿½åŠ ã«ã‚ˆã‚‹è¤‡é›‘åŒ–ã‚’é¿ã‘ã‚‹
- æ—¢å­˜ãƒ¦ãƒ¼ã‚¶ãƒ¼ã¸ã®å½±éŸ¿ã‚’æœ€å°åŒ–
- A/Bãƒ†ã‚¹ãƒˆã«ã‚ˆã‚‹æ¤œè¨¼

### 3. ã‚¹ã‚±ãƒ¼ãƒ©ãƒ“ãƒªãƒ†ã‚£
- 10ä¸‡ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚’æƒ³å®šã—ãŸè¨­è¨ˆ
- ãƒã‚¤ã‚¯ãƒ­ã‚µãƒ¼ãƒ“ã‚¹åŒ–ã®æº–å‚™
- ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹åˆ†å‰²ã®æ¤œè¨

---

*ã“ã®ãƒ­ãƒ¼ãƒ‰ãƒãƒƒãƒ—ã¯å¸‚å ´ã®åå¿œã¨æŠ€è¡“ãƒˆãƒ¬ãƒ³ãƒ‰ã«å¿œã˜ã¦æŸ”è»Ÿã«æ›´æ–°ã•ã‚Œã¾ã™ã€‚*
*ä½œæˆæ—¥: 2025å¹´1æœˆ*